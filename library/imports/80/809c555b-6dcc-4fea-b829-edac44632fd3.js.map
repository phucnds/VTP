{"version":3,"sources":["assets/scripts/components/CompQuestsContainer.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nimport * as R from 'ramda';\nimport connect from \"../src/app/connect\";\nimport store, { AppDispatch, RootState } from \"../src/app/store\";\nimport { EAppPages, IPageWithEffect, PAGE_SHOW_EFFECT, popPage, pushPage } from \"../src/features/SliceApp\";\nimport SingletonNode from \"../utils/SingletonNode\";\nimport Helper from \"../utils/Helper\";\nimport APIDefine from \"../src/app/APIDefine\";\nimport wsgw from \"../src/app/wsgw\";\nimport CompQuest from './CompQuest';\nimport { mockQuestsData } from '../src/mockData';\nimport GameDefine from '../src/common/GameDefine';\nimport { PageHome } from '../Pages/PageHome';\nimport { randomString, trackUserInteract } from '../src/common/utils';\nimport { checkRewardPopup } from '../src/common/common';\nimport { syncQuests } from '../src/features/SliceQuests';\nimport { userProfile } from '../common/UserProfile';\n\nconst { ccclass, property } = cc._decorator;\n\nenum QuestsContainerParams {\n    OPEN_Y = -568,\n    CLOSE_Y = -1317,\n    DRAG_THRESHOLD = 150,\n    MASK_OPEN = 740,\n    MASK_CLOSE = 270,\n    BG_TOUCH_ZONE_OPEN_HEIGHT = 100,\n    BG_TOUCH_ZONE_CLOSE_HEIGHT = 1000,\n}\n\nexport enum DailyQuestTabNames {\n    SETTING_AND_UPDATE,\n    CHECK_IN,\n    SELFCARE,\n    LIFEBOX,\n    VIETTEL_PLUS,\n    CONNECTION,\n    CHECK_OUT,\n    ENTERTAINMENT,\n    SHOPPING,\n    SHARING,\n    TOUR,\n}\n\nexport enum Missions {\n    MO_GAME = 'MO_GAME',\n    MO_GAME_LAN_DAU = 'MO_GAME_LAN_DAU',\n    XAC_THUC_THONG_TIN = 'XAC_THUC_THONG_TIN',\n    CHIA_SE_GAME = 'CHIA_SE_GAME',\n    THAM_QUAN_GUI_TIET_KIEM = 'THAM_QUAN_GUI_TIET_KIEM',\n    THAM_QUAN_VI_PAY_NOW = 'THAM_QUAN_VI_PAY_NOW',\n    THAM_QUAN_DAU_TU_SAVE_NOW = 'THAM_QUAN_DAU_TU_SAVE_NOW',\n    THAM_QUAN_EASYVAY = 'THAM_QUAN_EASYVAY',\n    THAM_QUAN_TIEN_MAT_XOAY_VONG = 'THAM_QUAN_TIEN_MAT_XOAY_VONG',\n    THAM_QUAN_MUA_TRUOC_TRA_SAU = 'THAM_QUAN_MUA_TRUOC_TRA_SAU',\n    LIEN_KET_THE = 'LIEN_KET_THE',\n    CONG_DONG_SUC_KHOE = 'CONG_DONG_SUC_KHOE'\n}\n\nexport const MissionsButtonText = {\n    [Missions.XAC_THUC_THONG_TIN]: 'Xác thực',\n    [Missions.LIEN_KET_THE]: 'Liên kết',\n    [Missions.THAM_QUAN_GUI_TIET_KIEM]: 'Tham quan',\n    [Missions.THAM_QUAN_VI_PAY_NOW]: 'Tham quan',\n    [Missions.THAM_QUAN_DAU_TU_SAVE_NOW]: 'Tham quan',\n    [Missions.THAM_QUAN_EASYVAY]: 'Tham quan',\n    [Missions.THAM_QUAN_TIEN_MAT_XOAY_VONG]: 'Tham quan',\n    [Missions.THAM_QUAN_MUA_TRUOC_TRA_SAU]: 'Tham quan',\n    [Missions.CONG_DONG_SUC_KHOE]: 'Tham gia',\n    [Missions.CHIA_SE_GAME]: 'Chia sẻ',\n}\n\nexport interface ITask {\n    id: number;\n    name: string;\n    point: number;\n    isCompleted: boolean;\n    giftId: Array<number>;\n}\n\nexport const btnCallBacks = {\n    [Missions.THAM_QUAN_DAU_TU_SAVE_NOW]: () => {\n        store.dispatch(pushPage({ page: EAppPages.PageSavenow, effect: PAGE_SHOW_EFFECT.LEFT }))\n    },\n    [Missions.THAM_QUAN_VI_PAY_NOW]: () => {\n        store.dispatch(pushPage({ page: EAppPages.PagePaynow, effect: PAGE_SHOW_EFFECT.LEFT }))\n    },\n    [Missions.THAM_QUAN_GUI_TIET_KIEM]: () => {\n        store.dispatch(pushPage({ page: EAppPages.PageGuiTietKiem, effect: PAGE_SHOW_EFFECT.LEFT }))\n    },\n    [Missions.THAM_QUAN_EASYVAY]: () => {\n        store.dispatch(pushPage({ page: EAppPages.PageEasyvay, effect: PAGE_SHOW_EFFECT.LEFT }))\n    },\n    [Missions.THAM_QUAN_TIEN_MAT_XOAY_VONG]: () => {\n        store.dispatch(pushPage({ page: EAppPages.PageTienMat, effect: PAGE_SHOW_EFFECT.LEFT }))\n    },\n    [Missions.THAM_QUAN_MUA_TRUOC_TRA_SAU]: () => {\n        store.dispatch(pushPage({ page: EAppPages.PageMuaTruoc, effect: PAGE_SHOW_EFFECT.LEFT }))\n    },\n}\n\nexport class CompQuestsContainer extends SingletonNode<CompQuestsContainer>() {\n    props: RootState\n    actions: any;\n\n    @property(cc.Prefab)\n    public questPrefab: cc.Prefab = null;\n\n    @property(cc.Node)\n    public content: cc.Node = null;\n\n    @property(cc.Node)\n    public bgTouchZone: cc.Node = null;\n    @property(cc.Node)\n    public title: cc.Node = null;\n    @property(cc.Node)\n    public titleBigTouchZone: cc.Node = null;\n\n    @property(cc.Node)\n    public body: cc.Node = null;\n\n    @property(cc.Node)\n    public scrollView: cc.Node = null;\n    @property(cc.Node)\n    public mask: cc.Node = null;\n    @property(cc.Node)\n    public scrollBar: cc.Node = null;\n    @property(cc.Boolean)\n    public interactive: boolean = false;\n\n    private isOpen: boolean = false;\n    private isDragged: boolean = false;\n\n    get IsOpen() { return this.isOpen; }\n\n    private currentTabIndex: number = DailyQuestTabNames.SETTING_AND_UPDATE;\n\n    onLoad() {\n        super.onLoad();\n        Helper.registerButtonEvent(this.bgTouchZone, () => {\n            trackUserInteract()\n            if (this.isDragged) {\n                this.isDragged = false;\n                return;\n            }\n            this.isOpen ? this.Close() : this.Open()\n        });\n\n        Helper.registerButtonEvent(this.titleBigTouchZone, () => {\n            if (this.isDragged) {\n                this.isDragged = false;\n                return;\n            }\n            this.isOpen ? this.Close() : this.Open()\n        });\n\n        if (this.interactive) {\n            let mouseDown = false;\n            this.bgTouchZone.on(cc.Node.EventType.TOUCH_START, (event) => {\n                this.isDragged = false;\n                mouseDown = true;\n            });\n            this.bgTouchZone.on(cc.Node.EventType.TOUCH_MOVE, (event) => {\n                if (!mouseDown) return;\n                let delta = event.getDelta();\n                const newY = this.node.y + delta.y;\n\n                if (newY < QuestsContainerParams.CLOSE_Y || newY > QuestsContainerParams.OPEN_Y) {\n                    return;\n                }\n\n                this.node.y = newY;\n\n                if (this.isOpen) {\n                    if (this.node.y < QuestsContainerParams.OPEN_Y - QuestsContainerParams.DRAG_THRESHOLD) {\n                        mouseDown = false;\n                        this.Close();\n                        this.isDragged = true;\n                    }\n                } else {\n                    if (this.node.y > QuestsContainerParams.CLOSE_Y + QuestsContainerParams.DRAG_THRESHOLD) {\n                        mouseDown = false;\n                        this.Open();\n                        this.isDragged = true;\n                    }\n                }\n            });\n            this.bgTouchZone.on(cc.Node.EventType.TOUCH_END, (event) => {\n                mouseDown = false;\n                this.onTouchEnd();\n            });\n            this.bgTouchZone.on(cc.Node.EventType.TOUCH_CANCEL, (event) => {\n                mouseDown = false;\n                this.onTouchEnd();\n            });\n        }\n\n        this.onStateChange();\n    }\n\n    onTouchEnd() {\n        if (this.isOpen) {\n            if (this.node.y >= QuestsContainerParams.CLOSE_Y + QuestsContainerParams.DRAG_THRESHOLD) {\n                this.Open();\n                this.isDragged = true;\n            }\n        } else {\n            if (this.node.y <= QuestsContainerParams.OPEN_Y - QuestsContainerParams.DRAG_THRESHOLD) {\n                this.Close();\n                this.isDragged = true;\n            }\n        }\n    }\n\n    Open() {\n        this.isOpen = true;\n        this.titleBigTouchZone.active = true;\n        this.bgTouchZone.height = QuestsContainerParams.BG_TOUCH_ZONE_OPEN_HEIGHT;\n\n        cc.tween(this.node)\n            .to(0.25, { position: cc.v3(0, QuestsContainerParams.OPEN_Y, 0) })\n            .start();\n\n        this.scrollView.height = QuestsContainerParams.MASK_OPEN;\n        this.mask.height = QuestsContainerParams.MASK_OPEN;\n        this.body.height = QuestsContainerParams.MASK_OPEN;\n        this.scrollBar.height = QuestsContainerParams.MASK_OPEN;\n    }\n\n    Close() {\n        this.isOpen = false;\n        this.titleBigTouchZone.active = false;\n        this.bgTouchZone.height = QuestsContainerParams.BG_TOUCH_ZONE_CLOSE_HEIGHT;\n\n        this.scrollView.getComponent(cc.ScrollView).scrollToTop();\n\n        cc.tween(this.node)\n            .to(0.25, { position: cc.v3(0, QuestsContainerParams.CLOSE_Y, 0) })\n            .call(() => {\n                this.scrollView.height = QuestsContainerParams.MASK_CLOSE;\n                this.mask.height = QuestsContainerParams.MASK_CLOSE;\n                this.body.height = QuestsContainerParams.MASK_CLOSE + 150;\n                this.scrollBar.height = QuestsContainerParams.MASK_CLOSE;\n            })\n            .start();\n    }\n\n    onStateChange() {\n        this.content.removeAllChildren();\n\n        const dataToUse = R.pipe(\n            // R.filter(\n            //     (quest: any) => R.includes(quest.name, GameDefine.questsToShow)\n            // ),\n            R.map((data: any) => {\n                const { name, addTurn } = data;\n                let level = -1;\n                if (name === 'MO_GAME') {\n                    level = Math.floor(this.props.login.loginStreak / 7);\n                    level = level < 4 ? level : 4;\n                }\n                return {\n                    ...data,\n                    addTurn: level >= 0 ? R.values(addTurn)[level] : addTurn,\n                    btnCB: btnCallBacks[name],\n                }\n            }),\n            R.sort(R.ascend((data) => {\n                const { done, max } = data;\n                let value = 0;\n                value += done >= max ? 1000 : 0;\n                return value\n            })),\n        )(this.props.quests.data);\n\n        dataToUse.forEach((data) => {\n            const { name, displayName, description, addCoin, addTurn, done, max, deeplink, btnCB } = data;\n            this.addItem(done, max, displayName, description, addCoin, addTurn, deeplink, btnCB, name);\n        })\n    }\n\n    addItem(\n        progress: number,\n        max: number,\n        name: string,\n        description: string,\n        coin: number,\n        ticket: number,\n        deeplink: string,\n        btnCB: Function = null,\n        questCode: '',\n    ) {\n        const newQuest = cc.instantiate(this.questPrefab);\n        this.content.addChild(newQuest);\n\n        newQuest.getComponent(CompQuest).init(progress, max, name, description, coin, ticket, deeplink, btnCB, questCode);\n    }\n\n    // update (dt) {}\n}\n\nconst mapStateToProps = (state: RootState) => ({\n    quests: state.quests,\n    login: state.login\n})\nconst mapDispatchToAction = (dispatch: AppDispatch) => ({\n    pushPage: (payload: EAppPages | IPageWithEffect) =>\n        dispatch(pushPage(payload)),\n    popPage: () => dispatch(popPage()),\n})\nexport default connect(mapStateToProps, mapDispatchToAction)(CompQuestsContainer)\n"]}