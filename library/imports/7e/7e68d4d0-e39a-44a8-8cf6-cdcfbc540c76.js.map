{"version":3,"sources":["assets/scripts/Popups/PopupDailyLogin.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,wEAAwE;AACxE,mBAAmB;AACnB,kFAAkF;AAClF,8BAA8B;AAC9B,kFAAkF;;;;;;;;;;;;;;;;;;;;;AAIlF,0CAAqC;AAErC,+CAAwD;AAExD,qDAA2E;AAE3E,0CAAqC;AACrC,iCAA4B;AAEtB,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAA6C,mCAAK;IAAlD;QAAA,qEAgCC;QA9BU,cAAQ,GAAY,IAAI,CAAC;QAEzB,aAAO,GAAY,IAAI,CAAC;QAGxB,iCAA2B,GAAW,EAAE,CAAC;QAEzC,+BAAyB,GAAW,EAAE,CAAC;QAEvC,sBAAgB,GAAgB,IAAI,CAAC;QAErC,oBAAc,GAAgB,IAAI,CAAC;;IAmB9C,CAAC;IAjBG,gCAAM,GAAN;QACI,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,gBAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,EAAE,cAAM,OAAA,eAAK,CAAC,QAAQ,CAAC,mBAAQ,EAAE,CAAC,EAA1B,CAA0B,CAAC,CAAC;SAC/E;QACD,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,gBAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,OAAO,EAAE,cAAM,OAAA,eAAK,CAAC,QAAQ,CAAC,mBAAQ,EAAE,CAAC,EAA1B,CAA0B,CAAC,CAAC;SAC9E;IACL,CAAC;IAEM,8BAAI,GAAX,UAAY,IAAY,EAAE,MAAc,EAAE,WAAmB;QACzD,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,IAAI,CAAC,2BAA2B,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,MAAM,CAAC,QAAQ,EAAE,CAAC,CAAC;QAClI,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,IAAI,CAAC,yBAAyB,CAAC,OAAO,CAAC,KAAK,EAAE,WAAW,CAAC,QAAQ,EAAE,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,OAAO,EAAE,WAAW,GAAG,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IACrL,CAAC;IAES,mCAAS,GAAnB;QACI,yBAAgB,EAAE,CAAC;IACvB,CAAC;IA7BD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;qDACc;IAEhC;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;oDACa;IAG/B;QADC,QAAQ,CAAC,MAAM,CAAC;wEAC+B;IAEhD;QADC,QAAQ,CAAC,MAAM,CAAC;sEAC6B;IAE9C;QADC,QAAQ,CAAC,EAAE,CAAC,QAAQ,CAAC;6DACsB;IAE5C;QADC,QAAQ,CAAC,EAAE,CAAC,QAAQ,CAAC;2DACoB;IAbzB,eAAe;QADnC,OAAO;OACa,eAAe,CAgCnC;IAAD,sBAAC;CAhCD,AAgCC,CAhC4C,eAAK,GAgCjD;kBAhCoB,eAAe","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nimport { userProfile } from \"../common/UserProfile\";\nimport APIDefine from \"../src/app/APIDefine\";\nimport store from \"../src/app/store\";\nimport wsgw from \"../src/app/wsgw\";\nimport { checkRewardPopup } from \"../src/common/common\";\nimport { trackUserInteract } from \"../src/common/utils\";\nimport { EAppPopups, popPopup, pushPopup } from \"../src/features/SliceApp\";\nimport { syncLoginStreak } from \"../src/features/SliceLogin\";\nimport Helper from \"../utils/Helper\";\nimport Popup from \"./Popup\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class PopupDailyLogin extends Popup {\n    @property(cc.Node)\n    public btnBack2: cc.Node = null;\n    @property(cc.Node)\n    public btnSpin: cc.Node = null;\n\n    @property(String)\n    public coinAndTicketTxtPlaceholder: String = '';\n    @property(String)\n    public descriptionTxtPlaceholder: String = '';\n    @property(cc.RichText)\n    public coinAndTicketTxt: cc.RichText = null;\n    @property(cc.RichText)\n    public descriptionTxt: cc.RichText = null;\n\n    onLoad() {\n        if (this.btnBack2) {\n            Helper.registerButtonEvent(this.btnBack2, () => store.dispatch(popPopup()));\n        }\n        if (this.btnSpin) {\n            Helper.registerButtonEvent(this.btnSpin, () => store.dispatch(popPopup()));\n        }\n    }\n\n    public init(coin: number, ticket: number, loginStreak: number) {\n        this.coinAndTicketTxt.string = this.coinAndTicketTxtPlaceholder.replace('%s1', coin.toString()).replace('%s2', ticket.toString());\n        this.descriptionTxt.string = this.descriptionTxtPlaceholder.replace('%s1', loginStreak.toString()).split('\\\\n').join('\\n').replace('%dump', loginStreak > 1 ? ' liên tiếp' : '');\n    }\n\n    protected onDisable(): void {\n        checkRewardPopup();\n    }\n}\n"]}